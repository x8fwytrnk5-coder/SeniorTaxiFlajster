<!DOCTYPE html>
<html lang="sk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>GoralSoft – Moduly</title>

<style>
  body {
    margin: 0;
    font-family: system-ui, sans-serif;
    background: #0d1018;
    color: #f5f5f5;
  }

  /* Horná lišta */
  .topbar {
    display: flex;
    background: #111522;
    border-bottom: 1px solid #222633;
  }

  .tab {
    flex: 1;
    padding: 14px;
    text-align: center;
    cursor: pointer;
    font-weight: 600;
    color: #a0a4b8;
    transition: 0.2s;
  }

  .tab.active {
    background: linear-gradient(135deg, #3ddcff, #00ffa3);
    color: #000;
  }

  /* Panely */
  .panel {
    display: none;
    padding: 20px;
  }

  .panel.active {
    display: block;
  }

  /* PIN overlay */
  #pinOverlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.75);
    display: none;
    align-items: center;
    justify-content: center;
  }

  #pinBox {
    background: #111522;
    padding: 20px;
    border-radius: 12px;
    width: 260px;
    text-align: center;
    border: 1px solid #33384a;
  }

  input[type="password"] {
    width: 100%;
    padding: 10px;
    margin-top: 12px;
    border-radius: 8px;
    border: 1px solid #33384a;
    background: #0d1018;
    color: #fff;
    font-size: 16px;
    text-align: center;
  }

  button {
    margin-top: 14px;
    padding: 10px 16px;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    font-weight: 600;
    background: linear-gradient(135deg, #3ddcff, #00ffa3);
    color: #000;
  }
</style>
</head>

<body>

<!-- Horná lišta -->
<div class="topbar">
  <div class="tab active" data-panel="clientPanel">Klient</div>
  <div class="tab" data-panel="driverPanel">Vodič</div>
  <div class="tab" data-panel="dispatchPanel" id="dispatchTab">Dispečing</div>
</div>

<!-- Panely -->
<div id="clientPanel" class="panel active">
  <h2>Klientsky panel</h2>
  <p>Tu bude objednávka jazdy, výber trasy, stav jazdy…</p>
</div>

<div id="driverPanel" class="panel">
  <h2>Vodičský panel</h2>
  <p>Tu bude prijímanie objednávok, kapacita auta, trasa…</p>
</div>

<div id="dispatchPanel" class="panel">
  <h2>Dispečing</h2>
  <p>Tu bude prehľad objednávok, priraďovanie vodičov, história…</p>
</div>

<!-- PIN overlay -->
<div id="pinOverlay">
  <div id="pinBox">
    <h3>Zadajte PIN</h3>
    <input type="password" id="pinInput" maxlength="6" placeholder="PIN">
    <button id="pinSubmit">Odomknúť</button>
  </div>
</div>

<script>
  const tabs = document.querySelectorAll(".tab");
  const panels = document.querySelectorAll(".panel");
  const dispatchTab = document.getElementById("dispatchTab");

  const pinOverlay = document.getElementById("pinOverlay");
  const pinInput = document.getElementById("pinInput");
  const pinSubmit = document.getElementById("pinSubmit");

  const DISPATCH_PIN = "2580"; // môžeš zmeniť

  let dispatchUnlocked = false;

  function showPanel(panelId) {
    panels.forEach(p => p.classList.remove("active"));
    document.getElementById(panelId).classList.add("active");
  }

  tabs.forEach(tab => {
    tab.addEventListener("click", () => {
      const panelId = tab.dataset.panel;

      if (panelId === "dispatchPanel" && !dispatchUnlocked) {
        pinOverlay.style.display = "flex";
        pinInput.value = "";
        return;
      }

      tabs.forEach(t => t.classList.remove("active"));
      tab.classList.add("active");
      showPanel(panelId);
    });
  });

  pinSubmit.onclick = () => {
    if (pinInput.value === DISPATCH_PIN) {
      dispatchUnlocked = true;
      pinOverlay.style.display = "none";

      tabs.forEach(t => t.classList.remove("active"));
      dispatchTab.classList.add("active");

      showPanel("dispatchPanel");
    } else {
      pinInput.value = "";
      pinInput.placeholder = "Nesprávny PIN";
    }
  };
</script>

</body>
</html>
